(function(t){function e(e){for(var o,i,s=e[0],l=e[1],u=e[2],d=0,f=[];d<s.length;d++)i=s[d],a[i]&&f.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);c&&c(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0143":function(t,e,n){"use strict";var o=n("55f3"),a=n.n(o);a.a},"034f":function(t,e,n){"use strict";var o=n("64a9"),a=n.n(o);a.a},1424:function(t,e,n){"use strict";var o=n("8e3e"),a=n.n(o);a.a},1668:function(t,e,n){},2780:function(t,e,n){"use strict";var o=n("f74b"),a=n.n(o);a.a},"55f3":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-toolbar",{attrs:{color:"light blue",dark:"",fixed:"",app:""}},[n("v-toolbar-title",[t._v("Study time counter")]),n("v-spacer"),n("v-btn",{attrs:{light:""},on:{click:t.signup}},[t._v("\n        Sign up\n      ")]),n("v-btn",{attrs:{light:""},on:{click:t.login}},[t._v("\n        Login\n      ")]),n("v-btn",{attrs:{icon:""},on:{click:t.logout}},[n("v-icon",[t._v("exit_to_app")])],1)],1),n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":"","grid-list-md":""}},[n("v-layout",{attrs:{"justify-center":"","align-start":""}},[t.visControl.signup?n("signupWindow"):t._e(),t.visControl.login?n("loginWindow"):t._e(),t.visControl.main?n("mainWindow"):t._e()],1)],1)],1),n("v-footer",{attrs:{color:"light blue",app:""}},[n("span",{staticClass:"white--text"},[t._v("Â© 2018 Min Xie All Rights Reserved")])])],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-text",[n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignup(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{name:"password",label:"password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{type:"submit"}},[t._v("\n                                        Sign up\n                                    ")])],1)],1)],1)])],1)],1)],1)],1)],1)},s=[],l={name:"signupWindow",data:function(){return{email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Passwords do not match":""}},methods:{onSignup:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password}),console.log("signup clicked"),console.log({email:this.email,password:this.password,confirmPassword:this.confirmPassword})}},created:function(){console.log("signup component created")}},u=l,c=(n("c8ab"),n("2877")),d=Object(c["a"])(u,i,s,!1,null,"0fcaadf4",null);d.options.__file="signupWindow.vue";var f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-text",[n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{sx12:""}},[n("v-text-field",{attrs:{name:"password",label:"password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{type:"submit"}},[t._v("\n                                        Login\n                                    ")]),n("v-container",[t._v("\n                                        If you don't have an account, please SIGN UP or contact Admin\n                                    ")])],1)],1)],1)])],1)],1)],1)],1)],1)},v=[],m={name:"loginWindow",data:function(){return{email:"",password:""}},computed:{},methods:{onLogin:function(){this.$store.dispatch("login",{email:this.email,password:this.password})}},created:function(){console.log("loginWindow component created")}},g=m,h=(n("2780"),Object(c["a"])(g,p,v,!1,null,"675f2fc6",null));h.options.__file="loginWindow.vue";var b=h.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-text-field",{attrs:{slot:"activator",label:"Date of study","prepend-icon":"event",readonly:"",solo:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{attrs:{label:"Time of study",solo:"",type:"number",required:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{attrs:{label:"What did you do today?",solo:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{block:"",dark:"",color:"light blue",type:"submit"}},[t._v("\n                submit\n            ")])],1),n("diagramWindow")],1)],1)},y=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""}},[n("v-card",[n("displayStatistic",{attrs:{statistic:t.statistic}})],1),n("v-card",[n("displayDiagram",{attrs:{data:t.data}})],1),n("v-card",[n("displayUserInfo",{attrs:{userInfo:t.userInfo}})],1)],1)},_=[],k=(n("456d"),n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[n("v-icon",[t._v("account_box")]),n("v-toolbar-title",[t._v("User Information")]),n("v-spacer")],1),n("v-list",{attrs:{"two-line":""}},[n("v-layout",t._l(t.userInfo,function(e,o){return n("v-flex",{key:o,attrs:{xs6:""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(o)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e)}})],1)],1)],1)}))],1)],1)}),S=[],P={name:"displayUserInfo",props:["userInfo"],methods:{}},D=P,O=(n("70d4"),Object(c["a"])(D,k,S,!1,null,null,null));O.options.__file="displayUserInfo.vue";var F=O.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[n("v-icon",[t._v("timeline")]),n("v-toolbar-title",[t._v("Study time heat map")]),n("v-spacer")],1),n("v-container",[n("calendar-heatmap",{attrs:{values:t.data,"end-date":t.endDate,max:5,"tooltip-unit":"hours"}})],1)],1)},j=[],W={name:"displayDiagram",props:["data"],data:function(){return{endDate:(new Date).toISOString().substr(0,10)}},methods:{},computed:{},created:function(){}},$=W,I=(n("0143"),Object(c["a"])($,C,j,!1,null,null,null));I.options.__file="displayDiagram.vue";var U=I.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[n("v-icon",[t._v("bar_chart")]),n("v-toolbar-title",[t._v("Satistic")]),n("v-spacer")],1),n("v-list",{attrs:{"two-line":""}},[n("v-layout",t._l(t.statistic,function(e,o){return n("v-flex",{key:o,attrs:{xs6:""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(o)}}),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e)}})],1)],1)],1)}))],1)],1)},E=[],T={name:"displayStatistic",props:["statistic"],data:function(){return{}}},L=T,M=(n("1424"),Object(c["a"])(L,B,E,!1,null,null,null));M.options.__file="displayStatistic.vue";var A=M.exports,V={name:"diagramWindow",components:{displayUserInfo:F,displayDiagram:U,displayStatistic:A},data:function(){return{}},computed:{userInfo:function(){return this.$store.getters.user},data:function(){var t=this.$store.getters.getDataFromFB,e=[];return t&&Object.keys(t).forEach(function(n){var o={};o["date"]=t[n].date,o["count"]=t[n].time,e.push(o)}),e},statistic:function(){var t=this.$store.getters.getDataFromFB,e={};if(t){var n=[];Object.keys(t).forEach(function(e){var o={};o["date"]=t[e].date,o["count"]=t[e].time,n.push(o)});var o=0;n.forEach(function(t){o+=parseInt(t.count)});var a=0;n.forEach(function(t){a=(o/parseInt(n.length)).toFixed(2)}),e={"Total study hours":o+" h","Average study hours":a+" h"}}else e={"No Data available":""};return e}},methods:{}},q=V,H=(n("57b2"),Object(c["a"])(q,x,_,!1,null,"2f11c6a5",null));H.options.__file="diagramWindow.vue";var z=H.exports,J={name:"mainWindow",components:{diagramWindow:z},data:function(){return{date:(new Date).toISOString().substr(0,10),menu:!1,time:"",description:""}},methods:{submit:function(){var t=this.date,e=this.time,n=this.description,o={};o={date:t,time:e,description:n},console.log("submitContent: ",o),this.$store.dispatch("addDataToFB",o)}}},Q=J,R=(n("c0a8"),Object(c["a"])(Q,w,y,!1,null,"3f961290",null));R.options.__file="mainWindow.vue";var K=R.exports,N=n("8aa5"),X={name:"app",data:function(){return{drawer:null,signupShow:!1,loginShow:!1,logoutShow:!1}},props:{source:String},components:{signupWindow:f,loginWindow:b,mainWindow:K},created:function(){this.$store.dispatch("userStateObserver")},computed:{visControl:function(){return this.$store.getters.visControl}},methods:{signup:function(){this.$store.commit("signupVis")},login:function(){this.$store.commit("loginVis")},logout:function(){this.$store.dispatch("logout")}}},G=X,Y=(n("034f"),Object(c["a"])(G,a,r,!1,null,null,null));Y.options.__file="App.vue";var Z=Y.exports,tt=n("ce5b"),et=n.n(tt);n("bf40");o["default"].use(et.a,{});var nt=n("2f62"),ot={user:function(t){return t.user},visControl:function(t){return t.visControl},getDataFromFB:function(t){return t.dataFromFB}},at={setUser:function(t,e){t.user=e},signupVis:function(t,e){t.visControl.signup=!0,t.visControl.login=!1,t.visControl.main=!1},loginVis:function(t,e){t.visControl.login=!0,t.visControl.signup=!1,t.visControl.main=!1},mainVis:function(t,e){t.visControl.login=!1,t.visControl.signup=!1,t.visControl.main=!0},setDataFromFB:function(t,e){t.dataFromFB=e}},rt={signUserUp:function(t,e){N["auth"]().createUserWithEmailAndPassword(e.email,e.password).then(function(){t.commit("loginVis"),alert("you are successfully signed up!")}).catch(function(t){var e=t.code,n=t.message;"auth/weak-password"==e?alert("The password is too weak."):alert(n),console.log(t)})},login:function(t,e){N["auth"]().signInWithEmailAndPassword(e.email,e.password).catch(function(t){var e=t.code,n=t.message;"auth/wrong-password"===e?alert("Wrong password."):alert(n),console.log(t)})},logout:function(t,e){N["auth"]().signOut().then(function(){t.commit("setUser",null),alert("Sign-out successful")}).catch(function(t){alert("An error happened, please try logout again")})},userStateObserver:function(t,e){var n=t.commit,o=t.dispatch;N["auth"]().onAuthStateChanged(function(t){if(t){n("mainVis");var e={email:t.email,uid:t.uid};n("setUser",e),o("refDataFromFB")}else n("loginVis")})},addDataToFB:function(t,e){var n=t.state.user.uid;N["database"]().ref("users/"+n+"/"+e.date).set(e,function(t){t?console.log("The write failed..."):console.log("Data saved successfully!")})},refDataFromFB:function(t){var e=t.commit,n=t.state,o=n.user.uid;N["database"]().ref("users/"+o).on("value",function(t){var n=t.val();e("setDataFromFB",n)})}};o["default"].use(nt["a"],{});var it=new nt["a"].Store({state:{user:null,visControl:{signup:!1,login:!1,main:!1},dataFromFB:{}},getters:ot,mutations:at,actions:rt}),st=n("6b6d");o["default"].use(st["default"]),o["default"].config.productionTip=!1,new o["default"]({store:it,render:function(t){return t(Z)},created:function(){N["initializeApp"]({apiKey:"AIzaSyDaQqQ9X2i919YQShcgBbyJjeFwbLLug38",authDomain:"studytimecounter.firebaseapp.com",databaseURL:"https://studytimecounter.firebaseio.com",projectId:"studytimecounter",storageBucket:"studytimecounter.appspot.com",messagingSenderId:"577907064691"})}}).$mount("#app")},5715:function(t,e,n){},"57b2":function(t,e,n){"use strict";var o=n("5715"),a=n.n(o);a.a},"64a9":function(t,e,n){},"70d4":function(t,e,n){"use strict";var o=n("d391"),a=n.n(o);a.a},"8e3e":function(t,e,n){},bd9d:function(t,e,n){},c0a8:function(t,e,n){"use strict";var o=n("bd9d"),a=n.n(o);a.a},c8ab:function(t,e,n){"use strict";var o=n("1668"),a=n.n(o);a.a},d391:function(t,e,n){},f74b:function(t,e,n){}});
//# sourceMappingURL=app.44df13b7.js.map