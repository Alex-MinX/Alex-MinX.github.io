(function(t){function e(e){for(var n,r,i=e[0],l=e[1],u=e[2],d=0,p=[];d<i.length;d++)r=i[d],s[r]&&p.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0143":function(t,e,a){"use strict";var n=a("55f3"),s=a.n(n);s.a},"034f":function(t,e,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},1424:function(t,e,a){"use strict";var n=a("8e3e"),s=a.n(n);s.a},"55f3":function(t,e,a){},"564d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-toolbar",{attrs:{color:"light blue",dark:"",fixed:"",app:""}},[a("v-toolbar-title",{staticClass:"headline"},[t._v("Study time counter "),a("strong",{staticClass:"font-weight-thin caption"},[t._v("Alpha-Version v0.4 (updated on 2018.12.06)")])]),a("v-spacer"),a("v-btn",{attrs:{light:"",color:"light-blue lighten-3"},on:{click:t.PP}},[t._v("\n        Privacy Policy\n      ")]),a("v-btn",{attrs:{light:""},on:{click:t.signup}},[t._v("\n        Sign up\n      ")]),a("v-btn",{attrs:{light:""},on:{click:t.login}},[t._v("\n        Login\n      ")]),a("v-btn",{attrs:{icon:""},on:{click:t.logout}},[a("v-icon",[t._v("exit_to_app")])],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":"","grid-list-md":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[t.visControl.PP?a("PPWindow"):t._e(),t.visControl.signup?a("signupWindow"):t._e(),t.visControl.login?a("loginWindow"):t._e(),t.visControl.main?a("mainWindow"):t._e()],1)],1)],1),a("v-footer",{attrs:{color:"light blue",app:""}},[a("span",{staticClass:"white--text"},[t._v("Â© 2018 Min Xie All Rights Reserved")])])],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-card-text",[a("v-container",[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignup(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sx12:""}},[a("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sx12:""}},[a("v-text-field",{attrs:{name:"password",label:"password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sx12:""}},[a("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{type:"submit"}},[t._v("\n                                        Sign up\n                                    ")])],1)],1)],1)])],1),a("v-card-text",[a("v-container",[a("v-icon",[t._v("notification_important")]),t._v("\n                            You are strongly recommanded "),a("strong",{staticClass:"red--text"},[t._v("NOT")]),t._v(" to use your real-world-password here. Eventhough your password won't be seen by the Administrator, but since it's only a small SPA, "),a("strong",{staticClass:"red--text"},[t._v("it can not be guaranteed")]),t._v(" that there is no safety issue by the client side.\n                    ")],1),a("v-container",[a("v-icon",[t._v("notification_important")]),t._v("\n                            This app will be shortly removed to "),a("a",{attrs:{href:"https://studytimecounter.firebaseapp.com/"}},[t._v("https://studytimecounter.firebaseapp.com")]),t._v(" for a better user experience. All the user data "),a("strong",{staticClass:"red--text"},[t._v("WILL NOT BE DELETED")]),t._v(" and you can continue using this app in the new address. We appreciate your understanding. Please save the new address and support me.\n                    ")],1)],1)],1)],1)],1)],1)},i=[],l={name:"signupWindow",data:function(){return{email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Passwords do not match":""}},methods:{onSignup:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password}),console.log("signup clicked"),console.log({email:this.email,password:this.password,confirmPassword:this.confirmPassword})}},created:function(){console.log("signup component created")}},u=l,c=(a("b7b2"),a("2877")),d=Object(c["a"])(u,r,i,!1,null,"7468eb9d",null);d.options.__file="signupWindow.vue";var p=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",[a("v-card-text",[a("v-container",[a("form",{on:{submit:function(e){return e.preventDefault(),t.onLogin(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sx12:""}},[a("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sx12:""}},[a("v-text-field",{attrs:{name:"password",label:"password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{type:"submit"}},[t._v("\n                                        Login\n                                    ")])],1)],1)],1)])],1),a("v-card-text",[a("v-container",[a("v-icon",[t._v("notification_important")]),t._v("\n                            If you don't have an account, please "),a("strong",{staticClass:"red--text"},[t._v("SIGN UP")]),t._v(" or "),a("strong",{staticClass:"red--text"},[t._v("contact Administrator")])],1),a("v-container",[a("v-icon",[t._v("notification_important")]),t._v("\n                            This app will be shortly removed to "),a("a",{attrs:{href:"https://studytimecounter.firebaseapp.com/"}},[t._v("https://studytimecounter.firebaseapp.com")]),t._v(" for a better user experience. All the user data "),a("strong",{staticClass:"red--text"},[t._v("WILL NOT BE DELETED")]),t._v(" and you can continue using this app in the new address. We appreciate your understanding. Please save the new address and support me.\n                    ")],1)],1)],1)],1)],1)],1)},v=[],m={name:"loginWindow",data:function(){return{email:"",password:""}},computed:{},methods:{onLogin:function(){this.$store.dispatch("login",{email:this.email,password:this.password})}},created:function(){console.log("loginWindow component created")}},h=m,g=(a("78ba"),Object(c["a"])(h,f,v,!1,null,"50c59fb0",null));g.options.__file="loginWindow.vue";var b=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-container",[a("v-icon",[t._v("notification_important")]),t._v("\r\n                This app will be shortly removed to "),a("a",{attrs:{href:"https://studytimecounter.firebaseapp.com/"}},[t._v("https://studytimecounter.firebaseapp.com")]),t._v(" for a better user experience. All the user data "),a("strong",{staticClass:"red--text"},[t._v("WILL NOT BE DELETED")]),t._v(" and you can continue using this app in the new address. We appreciate your understanding. Please save the new address and support me.\r\n        ")],1),a("v-card",[a("v-container",[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Date of study","prepend-icon":"event",readonly:"",solo:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.menu.save(t.date)}}},[t._v("OK")])],1)],1)],1),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Time of study (required and min. step is 0.5)",solo:"",type:"number",step:"0.5",suffix:"h",required:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"What did you do today? (optional)",solo:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",dark:"",color:"light blue",type:"submit"}},[t._v("\r\n                                submit\r\n                            ")])],1)],1)],1)])],1)],1),a("v-flex",{attrs:{xs8:""}},[a("diagramWindow")],1),a("v-snackbar",{staticClass:"font-weight-medium text-uppercase cyan--text text--lighten-5",attrs:{top:"",color:"rgba(0,0,0,0.35)"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\r\n        "+t._s(t.snackbarText)+"\r\n    ")])],1)},y=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("displayStatistic",{attrs:{statistic:t.statistic}})],1),a("v-card",[a("displayDiagram",{attrs:{data:t.data}})],1),a("v-card",[a("displayUserInfo",{attrs:{userInfo:t.userInfo}})],1)],1)},x=[],P=(a("456d"),a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[a("v-icon",[t._v("account_box")]),a("v-toolbar-title",[t._v("User Information")]),a("v-spacer")],1),a("v-list",{attrs:{"two-line":""}},[a("v-layout",t._l(t.userInfo,function(e,n){return a("v-flex",{key:n,attrs:{xs6:""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(n)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e)}})],1)],1)],1)}))],1)],1)}),S=[],D={name:"displayUserInfo",props:["userInfo"],methods:{}},T=D,k=(a("70d4"),Object(c["a"])(T,P,S,!1,null,null,null));k.options.__file="displayUserInfo.vue";var F=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[a("v-icon",[t._v("timeline")]),a("v-toolbar-title",[t._v("Study time heat map")]),a("v-spacer")],1),a("v-container",[a("calendar-heatmap",{attrs:{values:t.data,"end-date":t.endDate,max:5,"tooltip-unit":"hours"}})],1)],1)},C=[],I={name:"displayDiagram",props:["data"],data:function(){return{endDate:(new Date).toISOString().substr(0,10)}},methods:{},computed:{},created:function(){}},E=I,W=(a("0143"),Object(c["a"])(E,O,C,!1,null,null,null));W.options.__file="displayDiagram.vue";var B=W.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{color:"cyan",dark:"",height:"50px"}},[a("v-icon",[t._v("bar_chart")]),a("v-toolbar-title",[t._v("Satistic")])],1),a("v-list",{attrs:{"two-line":""}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.statistic,function(e,n){return a("v-flex",{key:n,attrs:{xs4:""}},[a("v-list-tile",[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(n)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e)}})],1)],1)],1)}))],1)],1)},j=[],L={name:"displayStatistic",props:["statistic"],data:function(){return{}}},A=L,U=(a("1424"),Object(c["a"])(A,$,j,!1,null,null,null));U.options.__file="displayStatistic.vue";var M=U.exports,V={name:"diagramWindow",components:{displayUserInfo:F,displayDiagram:B,displayStatistic:M},data:function(){return{}},computed:{userInfo:function(){return this.$store.getters.user},data:function(){var t=this.$store.getters.getDataFromFB,e=[];return t&&Object.keys(t).forEach(function(a){var n={};n["date"]=t[a].date,n["count"]=t[a].time,e.push(n)}),e},statistic:function(){var t=this.$store.getters.getDataFromFB,e={};if(t){var a=[];Object.keys(t).forEach(function(e){var n={};n["date"]=t[e].date,n["count"]=t[e].time,a.push(n)});var n=0;a.forEach(function(t){n+=parseFloat(t.count)}),n=n.toFixed(2);var s=0;a.forEach(function(t){0!=t.count&&(s+=1)});var o=(n/parseInt(s)).toFixed(2),r=new Date;r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3);var i=r.toISOString().substr(0,10),l=i.slice(-2),u=i.slice(5,7),c=[];if(parseInt(l)<7)if(1!=parseInt(u)){for(var d=parseInt(l);d>0;d--)c.push(i.slice(0,8)+0+d);for(var p=new Date(r.getFullYear(),r.getMonth(),1),f=new Date(p-1),v=f.toISOString().substr(0,10),m=v.slice(-2),h=parseInt(m);h>parseInt(m)-(7-parseInt(l));h--)c.push(v.slice(0,8)+h);console.log("last7d_str: ",c)}else{for(var g=parseInt(l);g>0;g--)c.push(i.slice(0,8)+0+g);for(var b=new Date(r.getFullYear(),0,0),w=b.toISOString().substr(0,10),y=w.slice(-2),_=parseInt(y);_>parseInt(y)-(7-parseInt(l));_--)c.push(w.slice(0,8)+_);console.log("last7d_str: ",c)}else{for(var x=parseInt(l);x>parseInt(l)-7;x--)x>=10?c.push(i.slice(0,8)+x):c.push(i.slice(0,8)+0+x);console.log("last7d_str: ",c)}var P=0;a.forEach(function(t){c.forEach(function(e){e==t.date&&(P+=parseFloat(t.count))})}),P=P.toFixed(2),e={"Total study hours":n+" h","Total study hours on the past 7 days":P+" h","Average study hours (On worked days)":o+" h"}}else e={"No Data available":""};return e}},methods:{}},R=V,q=(a("e37b"),Object(c["a"])(R,_,x,!1,null,"c600555c",null));q.options.__file="diagramWindow.vue";var N=q.exports,z={name:"mainWindow",components:{diagramWindow:N},data:function(){return{date:(new Date).toISOString().substr(0,10),menu:!1,time:"",description:"",snackbarText:""}},computed:{snackbar:function(){var t=this.$store.getters.getaddDataToFBStatus;return 1==t.status&&(this.snackbarText=t.infoText,!0)}},methods:{submit:function(){var t=this.date,e=this.time,a=this.description,n={};n={date:t,time:e,description:a},this.$store.dispatch("addDataToFB",n)},setSnackbar:function(){this.$store.commit("setaddDataToFBStatus",!1)}}},H=z,Y=(a("c6e1"),Object(c["a"])(H,w,y,!1,null,"adcaa144",null));Y.options.__file="mainWindow.vue";var J=Y.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},K=[],X={name:"privatePolicy"},G=X,Z=(a("d6d7"),Object(c["a"])(G,Q,K,!1,null,null,null));Z.options.__file="PPWindow.vue";var tt=Z.exports,et=a("8aa5"),at={name:"app",data:function(){return{drawer:null}},props:{source:String},components:{signupWindow:p,loginWindow:b,mainWindow:J,PPWindow:tt},created:function(){this.$store.dispatch("userStateObserver")},computed:{visControl:function(){return this.$store.getters.visControl}},methods:{PP:function(){this.$store.commit("PPVis")},signup:function(){this.$store.commit("signupVis")},login:function(){this.$store.commit("loginVis")},logout:function(){this.$store.dispatch("logout")}}},nt=at,st=(a("034f"),Object(c["a"])(nt,s,o,!1,null,null,null));st.options.__file="App.vue";var ot=st.exports,rt=a("ce5b"),it=a.n(rt);a("bf40");n["default"].use(it.a,{});var lt=a("2f62"),ut={user:function(t){return t.user},visControl:function(t){return t.visControl},getDataFromFB:function(t){return t.dataFromFB},getaddDataToFBStatus:function(t){return t.addDataToFBStatus}},ct={setUser:function(t,e){t.user=e},signupVis:function(t,e){t.visControl.signup=!0,t.visControl.login=!1,t.visControl.main=!1},loginVis:function(t,e){t.visControl.login=!0,t.visControl.signup=!1,t.visControl.main=!1},mainVis:function(t,e){t.visControl.login=!1,t.visControl.signup=!1,t.visControl.main=!0},PPVis:function(t,e){t.visControl.PP=!t.visControl.PP},setDataFromFB:function(t,e){t.dataFromFB=e},setaddDataToFBStatus:function(t,e){t.addDataToFBStatus=e}},dt={signUserUp:function(t,e){et["auth"]().createUserWithEmailAndPassword(e.email,e.password).then(function(){t.commit("loginVis"),alert("you are successfully signed up!")}).catch(function(t){var e=t.code,a=t.message;"auth/weak-password"==e?alert("The password is too weak."):alert(a),console.log(t)})},login:function(t,e){et["auth"]().signInWithEmailAndPassword(e.email,e.password).catch(function(t){var e=t.code,a=t.message;"auth/wrong-password"===e?alert("Wrong password."):alert(a),console.log(t)})},logout:function(t,e){et["auth"]().signOut().then(function(){t.commit("setUser",null),alert("Sign-out successful")}).catch(function(t){alert("An error happened, please try logout again")})},userStateObserver:function(t,e){var a=t.commit,n=t.dispatch;et["auth"]().onAuthStateChanged(function(t){if(t){a("mainVis");var e={email:t.email,uid:t.uid};a("setUser",e),n("refDataFromFB")}else a("loginVis")})},addDataToFB:function(t,e){var a=t.state,n=t.commit,s=a.user.uid;et["database"]().ref("users/"+s+"/"+e.date).set(e,function(t){t?(console.log("The write failed..."),n("setaddDataToFBStatus",{status:!0,infoText:"ERROR: "+t.message+" | ERROR CODE: "+t.code}),setTimeout(function(){n("setaddDataToFBStatus",{status:!1,infoText:""})},3e3)):(console.log("Data saved successfully!"),n("setaddDataToFBStatus",{status:!0,infoText:"SUCCESS: Data saved successfully"}),setTimeout(function(){n("setaddDataToFBStatus",{status:!1,infoText:""})},3e3))})},refDataFromFB:function(t){var e=t.commit,a=t.state,n=a.user.uid;et["database"]().ref("users/"+n).on("value",function(t){var a=t.val();e("setDataFromFB",a)})}};n["default"].use(lt["a"],{});var pt=new lt["a"].Store({state:{user:null,visControl:{signup:!1,login:!1,main:!1,PP:!0},dataFromFB:{},addDataToFBStatus:{status:!1}},getters:ut,mutations:ct,actions:dt}),ft=a("6b6d");n["default"].use(ft["default"]),n["default"].config.productionTip=!1,new n["default"]({store:pt,render:function(t){return t(ot)},created:function(){et["initializeApp"]({apiKey:"AIzaSyDaQqQ9X2i919YQShcgBbyJjeFwbLLug38",authDomain:"studytimecounter.firebaseapp.com",databaseURL:"https://studytimecounter.firebaseio.com",projectId:"studytimecounter",storageBucket:"studytimecounter.appspot.com",messagingSenderId:"577907064691"})}}).$mount("#app")},"64a9":function(t,e,a){},"70d4":function(t,e,a){"use strict";var n=a("d391"),s=a.n(n);s.a},"78ba":function(t,e,a){"use strict";var n=a("a02d"),s=a.n(n);s.a},"8e3e":function(t,e,a){},a02d:function(t,e,a){},acae:function(t,e,a){},b7b2:function(t,e,a){"use strict";var n=a("acae"),s=a.n(n);s.a},c6e1:function(t,e,a){"use strict";var n=a("564d"),s=a.n(n);s.a},d391:function(t,e,a){},d6ce:function(t,e,a){},d6d7:function(t,e,a){"use strict";var n=a("d6ce"),s=a.n(n);s.a},e37b:function(t,e,a){"use strict";var n=a("e932"),s=a.n(n);s.a},e932:function(t,e,a){}});
//# sourceMappingURL=app.a9c1c747.js.map